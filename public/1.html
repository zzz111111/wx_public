<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>


    async function fn() {
      let result = await p1()
        .catch(err => {
          console.log('捕获错误');
          console.log(err);
        })

      console.log(result);
    }

    async function asy1() {

    };


    let p1 = () => {
      return new Promise((resolve, reject) => {
        resolve({status: 200, msg: '成功'});
        // setTimeout(() => {
        //   resolve({
        //     status: 400,
        //     msg: '错误了'
        //   });
        // }, 3000);
      });
    };

    async function asy2() {
      console.log('2执行'); //2
      console.log('等待p1执行前');//3
      // let result = await p1();
      let result = await 1;
      console.log('p1执行完成');

      console.log(result);
      return 'asy2的结果';
    };

    async function asy3() {
      console.log('3执行');//4
      let result = await 3;
      console.log(result);//5
      return 'asy3的结果';
    };

    async function fn1() {
      console.log('fn1第一行');
      let a1 = await asy2();
      let a2 = await asy3();
      console.log('a1 = ' + a1);
      console.log('a2 = ' + a2);
      console.log('fn1结束');
    }


    let a = fn1();
    console.log('打印a是什么');
    console.log(a);

    //  fn1第一行  2执行 等待p1执行前 打印a是什么 promisependding  p1执行完成 1  3执行  3  asy2的结果 asy3的结果 fn1结束


  </script>
</body>

</html>