(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-integralStore-integreStore"],{"0f84":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("3b8d")),o=n(i("e44a")),s=n(i("d530")),r={data:function(){return{menuData:[],goodsData:[],authBoxShow:!1,userInfo:{isAuth:!1},configUser:{userInfo:{}},totalIntegral:""}},onShow:function(){console.log("有获取了onshow事件"),this.configUser=this.$utils.getConfigUser(),this.refreshConfigUserInfo(),this.getTotalIntegral()},methods:{refreshConfigUserInfo:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,!this.configUser.isAuth){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$utils.checkIsAuthUserInfo();case 5:i=t.sent,200===i.status&&(console.log("获取个人用户信息成功"),this.configUser.isAuth=!0,this.configUser.userInfo=i.result,this.uploadUserInfo(i.result));case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getTotalIntegral:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){var e,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$utils.getOpenid(),i=this.$utils.getConfigUser(),i.isAuth){t.next=4;break}return t.abrupt("return");case 4:if(e){t.next=6;break}return t.abrupt("return",this.$utils.showToast("获取openid失败"));case 6:return t.next=8,this.$api.integral.getIntegralAll(e);case 8:if(n=t.sent,75500!==n.statusCode){t.next=11;break}return t.abrupt("return",this.$utils.showToast("服务异常，获取个人总积分失败，请稍后重试"));case 11:if(75200===n.statusCode){t.next=13;break}return t.abrupt("return",this.$utils.showToast("获取个人总积分失败，错误码".concat(n.statusCode)));case 13:this.totalIntegral=n.result;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getMenuIcon:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.getMenuIcon();case 2:if(e=t.sent,75500!==e.statusCode){t.next=5;break}return t.abrupt("return",this.$utils.showToast("获取首页菜单失败"));case 5:if(75200===e.statusCode){t.next=7;break}return t.abrupt("return",this.$utils.showToast("获取首页菜单失败,错误码".concat(e.statusCode)));case 7:this.menuData=e.result;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getGoodsList:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this,t.next=3,this.$api.goods.getGoodsList({type:"all",pageIndex:1,pageSize:6});case 3:if(e=t.sent,75500!==e.statusCode){t.next=6;break}return t.abrupt("return",this.$api.uni.showToast("服务器繁忙，获取商品列表错误"));case 6:if(75200===e.statusCode){t.next=8;break}return t.abrupt("return",this.$api.uni.showToast("获取商品列表失败，错误码".concat(e.statusCode)));case 8:this.goodsData=e.result;case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goGoodDetail:function(t){console.log("点击了我"),console.log(t),uni.navigateTo({url:"/pages/integralStore/goodsDetail?goodsId="+t})},cancelAuth:function(){this.authBoxShow=!1},closeCover:function(t){this.authBoxShow=!1},cancelClose:function(t){this.authBoxShow=!1},urlJump:function(t){t.type&&(1===t.type?t="/pages/integralGain/integralGain":2===t.type?t="/pages/integralLuckDraw/integralLuckDraw":3===t.type&&(t="/pages/orders/ordersList")),this.configUser.isAuth?uni.navigateTo({url:t}):this.authBoxShow=!0}},cancelAuth:function(){this.authBoxShow=!1},emitUserInfo:function(t){console.log("子组件传递过来的用户信息"),console.log(t)},onLoad:function(){this.getGoodsList(),this.getMenuIcon()},components:{HeaderTitle:o.default,AuthBox:s.default}};e.default=r},"3f23":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"inter_store_wrap"},[i("HeaderTitle",{attrs:{content:"会员中心",color:"#000"}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-info"},[i("v-uni-view",{staticClass:"header-info-l"},[i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"info-nick",class:{"nick-top":!t.configUser.isAuth}},[t._v(t._s(t.configUser.userInfo.nickName||"未登录"))]),t.configUser.isAuth?i("v-uni-view",{staticClass:"info-location",on:{click:function(e){e=t.$handleEvent(e),t.urlJump("/pages/user/userInfo")}}},[i("v-uni-image",{staticClass:"position",attrs:{src:"../../static/img/integralStore/edit.png",mode:""}}),i("v-uni-text",[t._v("编辑个人信息")]),i("v-uni-image",{staticClass:"go",attrs:{src:"../../static/img/integralStore/go.png",mode:""}})],1):t._e()],1)],1),t.configUser.isAuth?i("v-uni-view",{staticClass:"header-info-r"},[i("v-uni-text",{staticClass:"num"},[t._v(t._s(t.totalIntegral))]),i("v-uni-view",{staticClass:"header-info-r-tips",on:{click:function(e){e=t.$handleEvent(e),t.urlJump("/pages/integralCheck/integralCheck")}}},[i("v-uni-text",{staticClass:"tips"},[t._v("积分")]),i("v-uni-image",{staticClass:"go",attrs:{src:"../../static/img/integralStore/go.png",mode:""}})],1)],1):t._e()],1),i("div",{staticClass:"header-nav-list-wrap"},[i("v-uni-view",{staticClass:"header-nav-list box-shadow"},t._l(t.menuData,function(e,n){return i("v-uni-view",{key:n,staticClass:"header-nav-item",on:{click:function(i){i=t.$handleEvent(i),t.urlJump({type:e.type})}}},[i("v-uni-image",{attrs:{src:e.icon,mode:""}}),i("v-uni-text",[t._v("\\n"+t._s(e.name))])],1)}),1)],1)],1),i("v-uni-view",{staticClass:"flex-one module_box flex flex-column"},[i("v-uni-view",{staticClass:"module_title",on:{click:function(e){e=t.$handleEvent(e),t.urlJump("/pages/integralStore/integraExchange")}}},[i("v-uni-text",[t._v("积分商城")]),i("v-uni-image",{attrs:{src:"../../static/img/integralStore/arrow-r.png",mode:""}})],1),i("v-uni-view",{staticClass:"module_view flex-one"},t._l(t.goodsData,function(e){return i("v-uni-view",{key:e._id,staticClass:"module_child flex flex-column",on:{click:function(i){i=t.$handleEvent(i),t.goGoodDetail(e._id)}}},[i("v-uni-view",{staticClass:"module_child_img flex flex-center"},[i("v-uni-image",{attrs:{src:e.icon,mode:""}})],1),i("v-uni-text",{staticClass:"text-one"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"text-two"},[i("v-uni-text",[t._v(t._s(e.integral))]),t._v("积分")],1)],1)}),1)],1),i("AuthBox",{attrs:{zheShow:t.authBoxShow},on:{hide:function(e){e=t.$handleEvent(e),t.cancelAuth(e)},reqIntergre:function(e){e=t.$handleEvent(e),t.reqIntergre(e)},submitClose:function(e){e=t.$handleEvent(e),t.closeCover(e)},cancelClose:function(e){e=t.$handleEvent(e),t.cancelClose(e)}}})],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},4563:function(t,e,i){"use strict";i.r(e);var n=i("3f23"),a=i("e08b");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("7343");var s=i("2877"),r=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"4dfcff8f",null);e["default"]=r.exports},"479f":function(t,e,i){"use strict";i.r(e);var n=i("4da8"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},"4da8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{content:{type:String,required:!0},color:{type:String,default:"#000"},delta:{default:1}},data:function(){return{statusTop:0}},onLoad:function(){var t=this;wx.getSystemInfo({success:function(e){t.statusTop=e.statusBarHeight}})},methods:{back:function(){var t=this;uni.navigateBack({delta:t.delta})}}};e.default=n},"4e4f":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".header[data-v-4dfcff8f]{position:relative;height:%?375?%;margin:0 %?25?%}.header-info[data-v-4dfcff8f]{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:%?300?%;border-radius:%?32?%;\n\t/* padding-top: 80px; */background:red;background:#05c594}.header-info-l[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-top:%?80?%;padding-left:%?20?%}.header-info-l .avatar[data-v-4dfcff8f]{position:relative;width:%?90?%;height:%?90?%}.header-info-l .avatar .getUserBtn[data-v-4dfcff8f]{position:absolute;top:0;left:0;width:%?80?%;height:%?80?%;opacity:0}.header-info-l .avatar uni-image[data-v-4dfcff8f]{width:%?90?%;height:%?90?%;border-radius:50%}.header-info-l .info[data-v-4dfcff8f]{padding-left:%?20?%;color:#fff}.header-info-l .info .info-nick[data-v-4dfcff8f]{font-size:%?36?%}.header-info-l .info .nick-top[data-v-4dfcff8f]{padding-top:8px}.header-info-l .info .info-location[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;\n\t/* padding-top: 8upx; */font-size:%?24?%}.info-location .position[data-v-4dfcff8f]{width:%?21?%;height:%?21?%}.info-location uni-text[data-v-4dfcff8f]{margin-left:%?8?%;margin-right:%?12?%}.info-location .go[data-v-4dfcff8f]{width:%?30?%;height:%?30?%}.header-info-r[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?70?%;\n\t/* align-items: flex-end; */padding-top:%?100?%;padding-right:%?20?%;color:#fff}.header-info-r .num[data-v-4dfcff8f]{font-size:%?56?%;margin-right:%?10?%}.header-info-r-tips[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding-top:%?28?%;font-size:%?24?%}.header-info-r-tips uni-image[data-v-4dfcff8f]{width:%?30?%;height:%?30?%}\n\n/* 顶部导航 */.header-nav-list-wrap[data-v-4dfcff8f]{position:absolute;top:%?230?%;\n\t/* bottom: -70upx; */width:%?700?%}.header-nav-list[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;width:%?660?%;height:%?140?%;margin:auto;border-radius:%?9?%;text-align:center;font-size:%?24?%;background:#fff;color:#339277}.header-nav-item uni-image[data-v-4dfcff8f]{width:%?80?%;height:%?80?%}\n\n/* 商品列表 */.module_box[data-v-4dfcff8f]{\n\t/* box-shadow: 0px 0px 12px #b8b8b8; */margin:%?15?% 0 0 0}.module_title[data-v-4dfcff8f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:%?25?% %?30?%;font-size:%?32?%;font-weight:700\n\t/* text-indent: 30upx; */}.module_title uni-image[data-v-4dfcff8f]{width:%?30?%;height:%?30?%}.module_view[data-v-4dfcff8f]{margin:0 %?30?% 0 0;overflow:auto}.module_child[data-v-4dfcff8f]{width:33.33%;-webkit-box-sizing:border-box;box-sizing:border-box;border-left:%?30?% solid rgba(0,0,0,0);float:left;margin:0 0 %?30?% 0}.module_child .module_child_img[data-v-4dfcff8f]{overflow:hidden;\n\t/* width: 100%; */width:%?210?%;height:%?210?%;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #efefef;border-radius:%?15?%}.module_child_img uni-image[data-v-4dfcff8f]{width:100%;height:100%}.text-one[data-v-4dfcff8f],.text-two[data-v-4dfcff8f]{width:100%;margin:%?10?% 0 0 0;font-size:%?28?%}.text-two uni-text[data-v-4dfcff8f]{color:#ffa300}\n\n",""])},"6d8a":function(t,e,i){var n=i("4e4f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("34f705e0",n,!0,{sourceMap:!1,shadowMode:!1})},7343:function(t,e,i){"use strict";var n=i("6d8a"),a=i.n(n);a.a},e08b:function(t,e,i){"use strict";i.r(e);var n=i("0f84"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},e44a:function(t,e,i){"use strict";i.r(e);var n=i("ed82"),a=i("479f");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);var s=i("2877"),r=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"0a0d4634",null);e["default"]=r.exports},ed82:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"title-contents flex flex-center",style:{paddingTop:t.statusTop+"px"}},["#fff"===t.color?[i("v-uni-image",{attrs:{src:"../../static/img/back_icon.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}})]:[i("v-uni-image",{attrs:{src:"../../static/img/jiantou_black_icon.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}})],i("v-uni-text",{style:"color:"+t.color},[t._v(t._s(t.content))])],2)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})}}]);